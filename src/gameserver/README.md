# 棋牌游戏服务器

棋牌游戏通常由一组服务器协同以支持尽量多的同时在线玩家，但由于这种分布式
设计除了增加了局域网通信，从模型上与单服务器设计是一致的，或者说只相当于把多台服务
器的计算能力合并成逻辑上的一台单一服务器，所以本示例中我们只考虑单服务器、单进程的设
计方法

作为一个棋牌游戏，需要支持玩家进行下面的基本
操作：
- 登录游戏
- 查看房间列表
- 创建房间
- 加入房间
- 进行游戏
- 房间内聊天
- 游戏完成，退出房间
- 退出登录

实际的游戏设计当然要比这个复杂得多，比如还有社交关系、道具和技能等。鉴于这些细节
并不影响架构，这里我们都一并略去。
总体上，我们可以将该示例划分为以下子系统：
- 玩家会话管理系统，用于管理每一位登录的玩家，包括玩家信息和玩家状态
- 大厅管理
- 房间管理系统，创建、管理和销毁每一个房间
- 游戏会话管理系统，管理房间内的所有动作，包括游戏进程和房间内聊天
- 聊天管理系统，用于接收管理员的广播信息

为了避免贴出太多源代码，这里我们只实现了最基础的会话管理系统和聊天管理系统


目录介绍

- ipc

简单IPC（进程间通信）框架的目的很简单，就是封装通信包的编码细节，让使用者可以专
注于业务。我们这里用channel作为模块之间的通信方式。虽然channel可以传递任何数据类型，
甚至包括另外一个channel，